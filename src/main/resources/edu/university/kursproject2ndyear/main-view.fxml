<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx/11.0.1"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.university.apartmentdb.controller.MainController"
      prefHeight="600.0" prefWidth="1000.0">

    <!-- Главное меню -->
    <MenuBar>
        <!-- Меню Файл -->
        <Menu mnemonicParsing="false" text="Файл">
            <MenuItem mnemonicParsing="false" text="Новая база" onAction="#handleNewDatabase"/>
            <MenuItem mnemonicParsing="false" text="Открыть..." onAction="#handleOpenDatabase"/>
            <MenuItem mnemonicParsing="false" text="Сохранить" onAction="#handleSaveDatabase"/>
            <SeparatorMenuItem/>
            <MenuItem mnemonicParsing="false" text="Выход" onAction="#handleExit"/>
        </Menu>

        <!-- Меню Правка -->
        <Menu mnemonicParsing="false" text="Правка">
            <MenuItem mnemonicParsing="false" text="Добавить квартиру" onAction="#handleAddApartment"/>
            <MenuItem mnemonicParsing="false" text="Редактировать" onAction="#handleEditApartment"/>
            <MenuItem mnemonicParsing="false" text="Удалить" onAction="#handleDeleteApartment"/>
            <SeparatorMenuItem/>
            <MenuItem mnemonicParsing="false" text="Поиск..." onAction="#handleSearch"/>
        </Menu>

        <!-- Меню Справка -->
        <Menu mnemonicParsing="false" text="Справка">
            <MenuItem mnemonicParsing="false" text="О программе" onAction="#handleAbout"/>
        </Menu>
    </MenuBar>

    <!-- Панель инструментов -->
    <ToolBar prefHeight="40.0" prefWidth="200.0">
        <Button mnemonicParsing="false" text="Добавить" onAction="#handleAddApartment">
            <tooltip>
                <Tooltip text="Добавить новую квартиру" />
            </tooltip>
        </Button>
        <Button mnemonicParsing="false" text="Редактировать" onAction="#handleEditApartment">
            <tooltip>
                <Tooltip text="Редактировать выбранную квартиру" />
            </tooltip>
        </Button>
        <Button mnemonicParsing="false" text="Удалить" onAction="#handleDeleteApartment">
            <tooltip>
                <Tooltip text="Удалить выбранную квартиру" />
            </tooltip>
        </Button>
        <Separator orientation="VERTICAL"/>
        <Button mnemonicParsing="false" text="Поиск" onAction="#handleSearch">
            <tooltip>
                <Tooltip text="Поиск квартир по критериям" />
            </tooltip>
        </Button>
    </ToolBar>

    <!-- Таблица с квартирами -->
    <TableView fx:id="apartmentsTable" VBox.vgrow="ALWAYS">
        <contextMenu>
            <ContextMenu>
                <MenuItem text="Добавить" onAction="#handleAddApartment"/>
                <MenuItem text="Редактировать" onAction="#handleEditApartment"/>
                <MenuItem text="Удалить" onAction="#handleDeleteApartment"/>
            </ContextMenu>
        </contextMenu>

        <columns>
            <TableColumn fx:id="idColumn" prefWidth="50" text="ID"/>
            <TableColumn fx:id="roomsColumn" prefWidth="80" text="Комнаты"/>
            <TableColumn fx:id="areaColumn" prefWidth="80" text="Площадь"/>
            <TableColumn fx:id="priceColumn" prefWidth="100" text="Цена"/>
            <TableColumn fx:id="districtColumn" prefWidth="120" text="Район"/>
            <TableColumn fx:id="addressColumn" prefWidth="200" text="Адрес"/>
            <TableColumn fx:id="balconyColumn" prefWidth="80" text="Балкон"/>
            <TableColumn fx:id="floorColumn" prefWidth="60" text="Этаж"/>
        </columns>

        <columnResizePolicy>
            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
        </columnResizePolicy>
    </TableView>

    <!-- Строка состояния -->
    <BorderPane prefHeight="30.0">
        <left>
            <Label fx:id="statusLabel" text=" Готово" BorderPane.alignment="CENTER_LEFT"/>
        </left>
        <right>
            <Label fx:id="countLabel" text="Всего записей: 0" BorderPane.alignment="CENTER_RIGHT"/>
        </right>
    </BorderPane>

</VBox>